<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1317px" preserveAspectRatio="none" style="width:1124px;height:1317px;" version="1.1" viewBox="0 0 1124 1317" width="1124px" zoomAndPan="magnify"><defs><filter height="300%" id="f1epfr18o90n97" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="489" x="318" y="23.5352">6.1.1. Request Settlement Window By Id (getSettlementWindowById)</text><rect fill="#FFB6C1" height="1272.1934" style="stroke: #A80036; stroke-width: 1.0;" width="112" x="138" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="153.5" y="47.0566">Central HUB</text><rect fill="#90EE90" height="1272.1934" style="stroke: #A80036; stroke-width: 1.0;" width="420.5" x="372.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="520.75" y="47.0566">Settlement Service</text><rect fill="#FFFFE0" height="1272.1934" style="stroke: #A80036; stroke-width: 1.0;" width="114" x="814" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="817" y="47.0566">Central Services</text><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="1040.9063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="189" y="147.2871"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="995.2852" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="450" y="192.9082"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="198.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="727" y="237.5293"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="167.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="727" y="504.9453"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="866" y="266.8398"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="866" y="534.2559"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="1048.9063" style="stroke: #000000; stroke-width: 2.0;" width="1099" x="13" y="154.2871"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="745.1797" style="stroke: #000000; stroke-width: 2.0;" width="992" x="23" y="451.0137"/><rect fill="#FFFFFF" height="186.4844" style="stroke: none; stroke-width: 1.0;" width="992" x="23" y="1009.709"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="194" x2="194" y1="137.2871" y2="1220.1934"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="454.5" x2="454.5" y1="137.2871" y2="1220.1934"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="732" x2="732" y1="137.2871" y2="1220.1934"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="871" x2="871" y1="137.2871" y2="1220.1934"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="142" y="134.334">Hub Employee</text><ellipse cx="194" cy="63.7988" fill="#FEFECE" filter="url(#f1epfr18o90n97)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M194,71.7988 L194,98.7988 M181,79.7988 L207,79.7988 M194,98.7988 L181,113.7988 M194,98.7988 L207,113.7988 " fill="none" filter="url(#f1epfr18o90n97)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="142" y="1232.7285">Hub Employee</text><ellipse cx="194" cy="1245.6816" fill="#FEFECE" filter="url(#f1epfr18o90n97)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M194,1253.6816 L194,1280.6816 M181,1261.6816 L207,1261.6816 M194,1280.6816 L181,1295.6816 M194,1280.6816 L207,1295.6816 " fill="none" filter="url(#f1epfr18o90n97)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="376.5" y="134.334">Settlement Service API</text><path d="M434.5,92.7988 L434.5,116.7988 M434.5,104.7988 L451.5,104.7988 " fill="none" filter="url(#f1epfr18o90n97)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="463.5" cy="104.7988" fill="#FEFECE" filter="url(#f1epfr18o90n97)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="376.5" y="1232.7285">Settlement Service API</text><path d="M434.5,1239.6816 L434.5,1263.6816 M434.5,1251.6816 L451.5,1251.6816 " fill="none" filter="url(#f1epfr18o90n97)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="463.5" cy="1251.6816" fill="#FEFECE" filter="url(#f1epfr18o90n97)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="675" y="134.334">Settlement DAO</text><ellipse cx="732" cy="104.7988" fill="#FEFECE" filter="url(#f1epfr18o90n97)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="720" x2="744" y1="118.7988" y2="118.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="675" y="1232.7285">Settlement DAO</text><ellipse cx="732" cy="1251.6816" fill="#FEFECE" filter="url(#f1epfr18o90n97)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="720" x2="744" y1="1265.6816" y2="1265.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="823" y="134.334">Central Store</text><path d="M853,84.7988 C853,74.7988 871,74.7988 871,74.7988 C871,74.7988 889,74.7988 889,84.7988 L889,110.7988 C889,120.7988 871,120.7988 871,120.7988 C871,120.7988 853,120.7988 853,110.7988 L853,84.7988 " fill="#FEFECE" filter="url(#f1epfr18o90n97)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M853,84.7988 C853,94.7988 871,94.7988 871,94.7988 C871,94.7988 889,94.7988 889,84.7988 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="823" y="1232.7285">Central Store</text><path d="M853,1245.6816 C853,1235.6816 871,1235.6816 871,1235.6816 C871,1235.6816 889,1235.6816 889,1245.6816 L889,1271.6816 C889,1281.6816 871,1281.6816 871,1281.6816 C871,1281.6816 853,1281.6816 853,1271.6816 L853,1245.6816 " fill="#FEFECE" filter="url(#f1epfr18o90n97)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M853,1245.6816 C853,1255.6816 871,1255.6816 871,1255.6816 C871,1255.6816 889,1255.6816 889,1245.6816 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="1040.9063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="189" y="147.2871"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="995.2852" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="450" y="192.9082"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="198.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="727" y="237.5293"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="167.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="727" y="504.9453"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="866" y="266.8398"/><rect fill="#FFFFFF" filter="url(#f1epfr18o90n97)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="866" y="534.2559"/><path d="M13,154.2871 L246,154.2871 L246,161.2871 L236,171.2871 L13,171.2871 L13,154.2871 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1048.9063" style="stroke: #000000; stroke-width: 2.0;" width="1099" x="13" y="154.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="28" y="167.8555">Request Settlement Window</text><polygon fill="#A80036" points="438,188.9082,448,192.9082,438,196.9082,442,192.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="444" y1="192.9082" y2="192.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="206" y="188.166">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="219" y="188.166">GET - /settlementWindows/{id}</text><polygon fill="#A80036" points="715,233.5293,725,237.5293,715,241.5293,719,237.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="460" x2="721" y1="237.5293" y2="237.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="467" y="225.1318">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="480" y="217.4766">Request settlementWindow by id</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="480" y="232.7871">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="557" y="232.7871">2001</text><polygon fill="#A80036" points="854,262.8398,864,266.8398,854,270.8398,858,266.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="737" x2="860" y1="266.8398" y2="266.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="744" y="262.0977">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="757" y="262.0977">Select from DB</text><polygon fill="#FFFFE0" filter="url(#f1epfr18o90n97)" points="649,309.8398,1092,309.8398,1102,358.8398,1092,408.8398,649,408.8398,639,358.8398,649,309.8398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="651" y="326.4082">SELECT sw.settlementWindowId, swsc.settlementWindowStateId,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="385" x="679" y="341.7188">swsc.reason, sw.createdDate, swsc.createdDate changedDate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="651" y="357.0293">FROM</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="691" y="357.0293">settlementWindow</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="820" y="357.0293">AS sw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="651" y="372.3398">JOIN</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="210" x="683" y="372.3398">settlementWindowStateChange</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="897" y="372.3398">AS swsc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="439" x="651" y="387.6504">ON swsc.settlementWindowStateChangeId = sw.currentStateChangeId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="651" y="402.9609">WHERE sw.settlementWindowId = {id}</text><polygon fill="#A80036" points="471,432.0137,461,436.0137,471,440.0137,467,436.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="465" x2="731" y1="436.0137" y2="436.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="477" y="431.2715">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="490" y="431.2715">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="535" y="431.2715">data</text><path d="M23,451.0137 L85,451.0137 L85,458.0137 L75,468.0137 L23,468.0137 L23,451.0137 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="745.1797" style="stroke: #000000; stroke-width: 2.0;" width="992" x="23" y="451.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="464.582">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="100" y="463.6484">[settlementWindow found]</text><polygon fill="#A80036" points="715,500.9453,725,504.9453,715,508.9453,719,504.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="460" x2="721" y1="504.9453" y2="504.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="467" y="492.5479">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="480" y="484.8926">Request settlementWindowContent(s)</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="480" y="500.2031">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="557" y="500.2031">2001</text><polygon fill="#A80036" points="854,530.2559,864,534.2559,854,538.2559,858,534.2559" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="737" x2="860" y1="534.2559" y2="534.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="744" y="529.5137">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="757" y="529.5137">Select from DB</text><polygon fill="#FFFFE0" filter="url(#f1epfr18o90n97)" points="747,577.2559,995,577.2559,1005,611.2559,995,646.2559,747,646.2559,737,611.2559,747,577.2559" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="749" y="593.8242">settlementWindowContent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="749" y="609.1348">settlementWindowContentStateChange</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="749" y="624.4453">ledgerAccountType</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="749" y="639.7559">currency</text><polygon fill="#A80036" points="471,668.8086,461,672.8086,471,676.8086,467,672.8086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="465" x2="731" y1="672.8086" y2="672.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="477" y="668.0664">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="490" y="668.0664">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="535" y="668.0664">contentList</text><path d="M33,685.8086 L33,970.8086 L441,970.8086 L441,695.8086 L431,685.8086 L33,685.8086 " fill="#FFFF00" filter="url(#f1epfr18o90n97)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M431,685.8086 L431,695.8086 L441,695.8086 L431,685.8086 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="39" y="703.377">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="55" y="718.6875">"id": data.settlementWindowId,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="55" y="733.998">"state": data.settlementWindowStateId,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="55" y="749.3086">"reason": data.reason,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="55" y="764.6191">"createdDate": data.createdDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="55" y="779.9297">"changedDate": data.changedDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="55" y="795.2402">"content": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="71" y="810.5508">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="287" x="87" y="825.8613">"id": contentList.settlementWindowContentId,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="287" x="87" y="841.1719">"state": contentList.settlementWindowStateId,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="339" x="87" y="856.4824">"ledgerAccountType": contentList.ledgerAccountType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="87" y="871.793">"currencyId": contentList.currencyId,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="87" y="887.1035">"createdDate": contentList.createdDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="87" y="902.4141">"changedDate": contentList.changedDate,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="87" y="917.7246">"settlementId": contentList.settlementId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="71" y="933.0352">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="55" y="948.3457">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="39" y="963.6563">}</text><polygon fill="#A80036" points="210,997.709,200,1001.709,210,1005.709,206,1001.709" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="204" x2="449" y1="1001.709" y2="1001.709"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="216" y="996.9668">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="229" y="996.9668">Respond HTTP - 200 (OK)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1015" y1="1010.709" y2="1010.709"/><path d="M465,1016.709 L465,1041.709 L592,1041.709 L592,1026.709 L582,1016.709 L465,1016.709 " fill="#D3D3D3" filter="url(#f1epfr18o90n97)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M582,1016.709 L582,1026.709 L592,1026.709 L582,1016.709 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="471" y="1034.2773">Log ERROR event</text><path d="M210,1056.0195 L210,1157.0195 L441,1157.0195 L441,1066.0195 L431,1056.0195 L210,1056.0195 " fill="#FFFF00" filter="url(#f1epfr18o90n97)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M431,1056.0195 L431,1066.0195 L441,1066.0195 L431,1056.0195 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="216" y="1073.5879">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="232" y="1088.8984">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="248" y="1104.209">"errorCode": &lt;integer&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="248" y="1119.5195">"errorDescription": &lt;string&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="232" y="1134.8301">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="216" y="1150.1406">}</text><polygon fill="#A80036" points="205,1184.1934,195,1188.1934,205,1192.1934,201,1188.1934" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="199" x2="454" y1="1188.1934" y2="1188.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="211" y="1183.4512">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="224" y="1183.4512">Respond HTTP - 4xx (Client error)</text><!--
@startuml
title 6.1.1. Request Settlement Window By Id (getSettlementWindowById)

autonumber

actor "Hub Employee" as OPERATOR
boundary "Settlement Service API" as SSAPI
entity "Settlement DAO" as SETTLE_DAO
database "Central Store" as DB

box "Central HUB" #lightpink
    participant OPERATOR
end box

box "Settlement Service" #lightgreen
    participant SSAPI
    participant SETTLE_DAO
end box

box "Central Services" #lightyellow
    participant DB
end box

group Request Settlement Window
    activate OPERATOR
    OPERATOR -> SSAPI: GET - /settlementWindows/{id}
    activate SSAPI
    SSAPI -> SETTLE_DAO: Request settlementWindow by id\n<color #FF0000><b>Error code:</b> 2001</color>
    activate SETTLE_DAO
    SETTLE_DAO -> DB: Select from DB
    activate DB
    hnote over DB #lightyellow
        SELECT sw.settlementWindowId, swsc.settlementWindowStateId, 
               swsc.reason, sw.createdDate, swsc.createdDate changedDate
        FROM **settlementWindow** AS sw
        JOIN **settlementWindowStateChange** AS swsc
        ON swsc.settlementWindowStateChangeId = sw.currentStateChangeId
        WHERE sw.settlementWindowId = {id}
    end hnote
    deactivate DB
    SSAPI <- - SETTLE_DAO: Return **data**
    deactivate SETTLE_DAO

    alt settlementWindow found
        SSAPI -> SETTLE_DAO: Request settlementWindowContent(s)\n<color #FF0000><b>Error code:</b> 2001</color>
        activate SETTLE_DAO
        SETTLE_DAO -> DB: Select from DB
        activate DB
        hnote over DB #lightyellow
            settlementWindowContent
            settlementWindowContentStateChange
            ledgerAccountType
            currency
        end hnote
        deactivate DB
        SSAPI <- - SETTLE_DAO: Return **contentList**
        deactivate SETTLE_DAO
        note left of SSAPI #yellow
            {
                "id": data.settlementWindowId,
                "state": data.settlementWindowStateId,
                "reason": data.reason,
                "createdDate": data.createdDate,
                "changedDate": data.changedDate,
                "content": [
                    {
                        "id": contentList.settlementWindowContentId,
                        "state": contentList.settlementWindowStateId,
                        "ledgerAccountType": contentList.ledgerAccountType,
                        "currencyId": contentList.currencyId,
                        "createdDate": contentList.createdDate,
                        "changedDate": contentList.changedDate,
                        "settlementId": contentList.settlementId
                    }
                ]
            }
        end note
        OPERATOR <- - SSAPI: Respond HTTP - 200 (OK)
    else
        note right of SSAPI #lightgray
            Log ERROR event
        end note
        note left of SSAPI #yellow
            {
                "errorInformation": {
                    "errorCode": <integer>,
                    "errorDescription": <string>
                }
            }
        end note
        OPERATOR <- - SSAPI: Respond HTTP - 4xx (Client error)
        deactivate SSAPI
        deactivate OPERATOR
    end
end
@enduml

PlantUML version 1.2018.05(Sat May 05 23:00:17 EEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.15.1
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>